(function(t){function e(e){for(var n,c,s=e[0],r=e[1],l=e[2],u=0,v=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&v.push(i[c][0]),i[c]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);d&&d(e);while(v.length)v.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var r=a[s];0!==i[r]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={app:0},o=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=r;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("h2",[t._v("FB Conversions Forwarder")])]),a("v-spacer"),a("DomainsDialog",{attrs:{domains:t.domains},on:{"data-change":t.reloadData}}),a("LoginDialog"),t.isLogged?a("CreateSystemAccountDialog"):t._e()],1),a("v-main",[a("v-container",[a("ServiceAlert",{attrs:{content:t.alertText,val:t.showAlert}}),t.isLogged?a("v-card",[a("v-card-title",[t._v(" Accounts "),a("v-spacer"),a("NewAccountDialog",{on:{"data-change":t.reloadData}})],1),a("v-text-field",{staticClass:"mr-7 ml-7",attrs:{filled:"",label:"Filter accounts"},model:{value:t.accSearchStr,callback:function(e){t.accSearchStr=e},expression:"accSearchStr"}}),a("v-list",{attrs:{rounded:""}},t._l(t.filteredAccounts,(function(e){return a("AccountItem",{key:e.id,attrs:{account:e,"fakeable-data-fields-const":t.fakeableDataFieldsConst,"user-data-fields-const":t.userDataFieldsConst,domains:t.domains},on:{"data-change":t.reloadData}})})),1)],1):a("LoginDialog")],1)],1)],1)},o=[],c=a("2909"),s=(a("d3b7"),a("159b"),a("4de4"),a("caad"),a("2532"),a("25f0"),a("b0c0"),a("bc3a")),r=a.n(s),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"primary"}},"v-btn",i,!1),n),[t._v(" New account ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Create new account ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-text-field",{attrs:{label:"Account name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:t.saveAccount}},[t._v(" Create ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},d=[],u={name:"NewAccountDialog",data:function(){return{name:"",dialog:!1}},methods:{saveAccount:function(){var t=this;r.a.post("/api/v1/admin/ac",{name:this.name}).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},v=u,m=a("2877"),f=a("6544"),b=a.n(f),g=a("8336"),p=a("b0af"),h=a("99d9"),_=a("169a"),x=a("ce7e"),C=a("2fa4"),V=a("8654"),k=Object(m["a"])(v,l,d,!1,null,"60ee7f80",null),D=k.exports;b()(k,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VSpacer:C["a"],VTextField:V["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),n),[a("span",{staticClass:"mr-2"},[t._v("Login")]),a("v-icon",[t._v("mdi-login")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Login ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:t.sendLoginReq}},[t._v(" Login ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},w=[],A={name:"LoginDialog",data:function(){return{email:"",password:"",dialog:!1}},methods:{sendLoginReq:function(){var t=this;r.a.post("/api/v1/login/",{email:this.email,password:this.password}).then((function(e){t.dialog=!1,document.location.reload()})).catch((function(t){alert("Password incorrect")}))}}},S=A,F=a("132d"),T=Object(m["a"])(S,y,w,!1,null,"0ecee274",null),B=T.exports;b()(T,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VIcon:F["a"],VSpacer:C["a"],VTextField:V["a"]});var I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),n),[a("span",{staticClass:"mr-2"},[t._v("Create account")]),a("v-icon",[t._v("mdi-account-plus")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Create New Account ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:t.sendCreateReq}},[t._v(" Create ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},E=[],L={name:"CreateSystemAccountDialog",data:function(){return{email:"",password:"",dialog:!1}},methods:{sendCreateReq:function(){var t=this;r.a.post("/api/v1/admin/account",{email:this.email,password:this.password}).then((function(e){t.dialog=!1})).catch((function(t){return console.log(t)}))}}},O=L,j=Object(m["a"])(O,I,E,!1,null,"1b74798a",null),$=j.exports;b()(j,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VIcon:F["a"],VSpacer:C["a"],VTextField:V["a"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"v-size--large mb-3"},[t._v(t._s(t.account.name))]),a("v-list-item-subtitle",[t._v("Id: "+t._s(t.account.id))])],1),a("v-spacer"),a("v-list-item-action",{staticClass:"flex-row"},[a("AccountInfoDialog",{attrs:{account:t.account},on:{"data-change":t.emitChange}}),a("EditAccountDialog",{attrs:{account:t.account,"fakeable-data-fields-const":t.fakeableDataFieldsConst,"user-data-fields-const":t.userDataFieldsConst,domains:t.domains},on:{"data-change":t.emitChange}}),a("DeleteAccountDialog",{attrs:{account:t.account},on:{"data-change":t.emitChange}})],1)],1)},N=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),n),[a("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-information")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Account '"+t._s(t.account.name)+"' ")]),a("v-card-text",{staticClass:"mt-5"},[t._v(" Integration code variants for account '"+t._s(t.account.name)+"'. Give it to the advertiser to add to the website. ")]),a("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:t.integrationVariant,callback:function(e){t.integrationVariant=e},expression:"integrationVariant"}},t._l(t.integrationVariants,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(t.nameForintegrationVariant(e))+" ")])})),1),a("v-tabs-items",{model:{value:t.integrationVariant,callback:function(e){t.integrationVariant=e},expression:"integrationVariant"}},t._l(t.integrationVariants,(function(e){return a("v-tab-item",{key:e},[a("v-card",{attrs:{color:"basil",flat:""}},[a("v-card-text",[t._v(t._s(t.valForintegrationVariant(e)))])],1)],1)})),1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},R=[],q=(a("99af"),{name:"AccountInfoDialog",props:{account:Object},data:function(){return{pixel:"",dialog:!1,integrationVariants:["pixel","http_callback_hashed","http_callback_raw"],integrationVariant:null}},created:function(){var t=this;r.a.get("/api/v1/admin/pixel?ac_id=".concat(this.account.id)).then((function(e){t.pixel=e.data}))},methods:{nameForintegrationVariant:function(t){return"pixel"===t?"JS-pixel":"http_callback_hashed"===t?"Hashed data http callback":"http_callback_raw"===t?"Raw data http callback":(console.log("unknown var:",t),"")},valForintegrationVariant:function(t){return"pixel"===t?this.pixel:"http_callback_hashed"===t?"https://conversion-router.tech/api/v1/fw/cb/".concat(this.account.id,"/").concat(this.account.forwarder_secret,"/hashed"):"http_callback_raw"===t?"https://conversion-router.tech/api/v1/fw/cb/".concat(this.account.id,"/").concat(this.account.forwarder_secret,"/raw"):(console.log("unknown var:",t),null)}}}),J=q,z=a("71a3"),G=a("c671"),H=a("fe57"),K=a("aac8"),Q=Object(m["a"])(J,P,R,!1,null,"40c2a695",null),U=Q.exports;b()(Q,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VIcon:F["a"],VSpacer:C["a"],VTab:z["a"],VTabItem:G["a"],VTabs:H["a"],VTabsItems:K["a"]});var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"primary"}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-cog-outline")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Edit account '"+t._s(t.account.name)+"' ")]),a("v-card-text",{staticClass:"mt-5"},[a("div",{staticClass:"d-flex flex-row flex-fill"},[a("v-text-field",{attrs:{outlined:"",label:"Account name"},model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveAccount}},[t._v(" Save ")])],1),a("div",{staticClass:"d-flex flex-column"},[a("h3",{staticClass:"mb-3 ma-6"},[t._v("Account BMs")]),a("div",{staticClass:"d-flex flex-row flex-fill"},[t.bms.length>0?a("v-text-field",{staticClass:"mr-7",attrs:{label:"Filter BMs"},model:{value:t.bmSearchStr,callback:function(e){t.bmSearchStr=e},expression:"bmSearchStr"}}):t._e(),a("NewBmDialog",{attrs:{acid:t.account.id,"fakeable-data-fields-const":t.fakeableDataFieldsConst,"user-data-fields-const":t.userDataFieldsConst,domains:t.domains},on:{"data-change":t.emitChange}})],1)]),a("v-list",{attrs:{"three-line":""}},t._l(t.filteredBms,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.name)+" ")]),a("v-list-item-subtitle",[t._v("Access token: "+t._s(e.access_token))]),a("v-list-item-subtitle",[t._v("Pixel id: "+t._s(e.pixel_id))])],1),a("v-list-item-action",[a("EditBmDialog",{attrs:{bm:e,"fakeable-data-fields-const":t.fakeableDataFieldsConst,"user-data-fields-const":t.userDataFieldsConst,domains:t.domains},on:{"data-change":t.emitChange}}),a("DeleteBmDialog",{attrs:{bm:e},on:{"data-change":t.emitChange}})],1)],1)})),1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},X=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"primary"}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-cog-outline")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Edit BM '"+t._s(t.bm.name)+"' ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-card-subtitle",[t._v("BM settings")]),a("v-text-field",{attrs:{label:"Account name"},model:{value:t.bm.name,callback:function(e){t.$set(t.bm,"name",e)},expression:"bm.name"}}),a("v-text-field",{attrs:{label:"Business manager access token"},model:{value:t.bm.access_token,callback:function(e){t.$set(t.bm,"access_token",e)},expression:"bm.access_token"}}),a("v-text-field",{attrs:{label:"Facebook pixel ID"},model:{value:t.bm.pixel_id,callback:function(e){t.$set(t.bm,"pixel_id",e)},expression:"bm.pixel_id"}}),a("v-select",{attrs:{label:"Event source domain",items:t.domains.map((function(t){return t.domain}))},model:{value:t.bm.event_source_domain,callback:function(e){t.$set(t.bm,"event_source_domain",e)},expression:"bm.event_source_domain"}}),a("v-select",{attrs:{label:"Facebook event name",items:t.fbEventNames},model:{value:t.bm.fb_event_name,callback:function(e){t.$set(t.bm,"fb_event_name",e)},expression:"bm.fb_event_name"}}),a("v-card-subtitle",[t._v("Fields to send to Facebook API")]),a("div",{staticClass:"d-flex flex-row flex-wrap"},t._l(t.userDataFieldsConst,(function(e){return a("v-checkbox",{key:e,staticClass:"ml-5",attrs:{label:e,value:e},model:{value:t.bm.fields_sent,callback:function(e){t.$set(t.bm,"fields_sent",e)},expression:"bm.fields_sent"}})})),1),a("v-card-subtitle",{staticClass:"mt-3"},[t._v("Fields to random generate if not present")]),a("div",{staticClass:"d-flex flex-row flex-wrap"},t._l(t.fakeableDataFieldsConst,(function(e){return a("v-checkbox",{key:e,staticClass:"ml-5",attrs:{label:e,value:e},model:{value:t.bm.fields_generated,callback:function(e){t.$set(t.bm,"fields_generated",e)},expression:"bm.fields_generated"}})})),1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveBm}},[t._v(" Save ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},Z=[],tt={name:"EditBmDialog",props:{bm:Object,userDataFieldsConst:Array,fakeableDataFieldsConst:Array,domains:Array},data:function(){return{dialog:!1,fbEventNames:["Lead","PageView","CompleteRegistration","Purchase","Search","ViewContent"]}},methods:{saveBm:function(){var t=this;r.a.put("/api/v1/admin/bm",{id:parseInt(this.bm.id),ad_container_id:parseInt(this.bm.ad_container_id),name:this.bm.name,access_token:this.bm.access_token,pixel_id:this.bm.pixel_id,fields_sent:this.bm.fields_sent,fields_generated:this.bm.fields_generated,event_source_domain:this.bm.event_source_domain,fb_event_name:this.bm.fb_event_name}).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},et=tt,at=a("ac7c"),nt=a("b974"),it=Object(m["a"])(et,Y,Z,!1,null,"ebd9ca82",null),ot=it.exports;b()(it,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardSubtitle:h["b"],VCardText:h["c"],VCardTitle:h["d"],VCheckbox:at["a"],VDialog:_["a"],VDivider:x["a"],VIcon:F["a"],VSelect:nt["a"],VSpacer:C["a"],VTextField:V["a"]});var ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"error"}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-delete")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Delete BM '"+t._s(t.bm.name)+"' ")]),a("v-card-text",{staticClass:"mt-5"},[t._v(" Are you sure that you want to delete Bm '"+t._s(t.bm.name)+"'? ")]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"error",text:""},on:{click:t.deleteBm}},[t._v(" Delete BM ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},st=[],rt={name:"DeleteBmDialog",props:{bm:Object},data:function(){return{dialog:!1}},methods:{deleteBm:function(){var t=this;r.a.delete("/api/v1/admin/bm?bm_id=".concat(this.bm.id)).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},lt=rt,dt=Object(m["a"])(lt,ct,st,!1,null,"a1e6c6f4",null),ut=dt.exports;b()(dt,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VIcon:F["a"],VSpacer:C["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"primary"}},"v-btn",i,!1),n),[t._v(" Add BM ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Add new BM record ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-card-subtitle",[t._v("BM settings")]),a("v-text-field",{attrs:{label:"Local BM name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{label:"Business manager access token"},model:{value:t.accessToken,callback:function(e){t.accessToken=e},expression:"accessToken"}}),a("v-text-field",{attrs:{label:"Facebook pixel ID"},model:{value:t.pixelId,callback:function(e){t.pixelId=e},expression:"pixelId"}}),a("v-text-field",{attrs:{label:"Test event code"},model:{value:t.testEventCode,callback:function(e){t.testEventCode=e},expression:"testEventCode"}}),a("v-select",{attrs:{label:"Event source domain",items:t.domains.map((function(t){return t.domain}))},model:{value:t.eventsourceDomain,callback:function(e){t.eventsourceDomain=e},expression:"eventsourceDomain"}}),a("v-select",{attrs:{label:"Facebook event name",items:t.fbEventNames},model:{value:t.fbEventName,callback:function(e){t.fbEventName=e},expression:"fbEventName"}}),a("v-card-subtitle",[t._v("Fields to send to Facebook API")]),a("div",{staticClass:"d-flex flex-row flex-wrap"},t._l(t.userDataFieldsConst,(function(e){return a("v-checkbox",{key:e,staticClass:"mr-5",attrs:{dense:"",label:e,value:e},model:{value:t.userDataFields,callback:function(e){t.userDataFields=e},expression:"userDataFields"}})})),1),a("v-card-subtitle",{staticClass:"mt-3"},[t._v("Fields to random generate if not present")]),a("div",{staticClass:"d-flex flex-row flex-wrap"},t._l(t.fakeableDataFieldsConst,(function(e){return a("v-checkbox",{key:e,staticClass:"mr-5",attrs:{dense:"",label:e,value:e},model:{value:t.fakeableDataFields,callback:function(e){t.fakeableDataFields=e},expression:"fakeableDataFields"}})})),1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:t.saveBm}},[t._v(" Add ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},mt=[],ft={name:"NewBmDialog",props:{acid:String,userDataFieldsConst:Array,fakeableDataFieldsConst:Array,domains:Array},data:function(){return{name:"",accessToken:"",pixelId:"",testEventCode:"",eventsourceDomain:"",userDataFields:[],fakeableDataFields:[],fbEventName:"Lead",dialog:!1,fbEventNames:["Lead","PageView","CompleteRegistration","Purchase","Search","ViewContent"]}},methods:{saveBm:function(){var t=this;r.a.post("/api/v1/admin/bm?test_code=".concat(this.testEventCode),{name:this.name,ad_container_id:this.acid,access_token:this.accessToken,pixel_id:this.pixelId,fields_sent:this.userDataFields,fields_generated:this.fakeableDataFields,event_source_domain:this.eventsourceDomain,fb_event_name:this.fbEventName}).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},bt=ft,gt=Object(m["a"])(bt,vt,mt,!1,null,"c8797978",null),pt=gt.exports;b()(gt,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardSubtitle:h["b"],VCardText:h["c"],VCardTitle:h["d"],VCheckbox:at["a"],VDialog:_["a"],VDivider:x["a"],VSelect:nt["a"],VSpacer:C["a"],VTextField:V["a"]});var ht={name:"EditAccountDialog",components:{NewBmDialog:pt,EditBmDialog:ot,DeleteBmDialog:ut},props:{account:Object,userDataFieldsConst:Array,fakeableDataFieldsConst:Array,domains:Array},data:function(){return{bms:[],bmSearchStr:"",dialog:!1}},created:function(){this.loadBms()},methods:{loadBms:function(){var t=this;r.a.get("/api/v1/admin/bm?ac_id=".concat(this.account.id)).then((function(e){while(t.bms.length)t.bms.pop();e.data.forEach((function(e){return t.bms.push(e)}))}))},saveAccount:function(){var t=this;r.a.put("/api/v1/admin/ac",{id:this.account.id,name:this.account.name}).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}},computed:{filteredBms:function(){var t=this;return this.bmSearchStr?this.bms.filter((function(e){return e.name.toString().includes(t.bmSearchStr)||e.id.toString().includes(t.bmSearchStr)})):this.bms}}},_t=ht,xt=a("8860"),Ct=a("da13"),Vt=a("1800"),kt=a("5d23"),Dt=Object(m["a"])(_t,W,X,!1,null,"723f24be",null),yt=Dt.exports;b()(Dt,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VIcon:F["a"],VList:xt["a"],VListItem:Ct["a"],VListItemAction:Vt["a"],VListItemContent:kt["a"],VListItemSubtitle:kt["b"],VListItemTitle:kt["c"],VSpacer:C["a"],VTextField:V["a"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"error"}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-delete")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Delete account '"+t._s(t.account.name)+"' ")]),a("v-card-text",{staticClass:"mt-5"},[t._v(" Are you sure that you want to delete account '"+t._s(t.account.name)+"'? ")]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"error",text:""},on:{click:t.deleteAccount}},[t._v(" Delete account ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},At=[],St={name:"DeleteAccountDialog",props:{account:Object},data:function(){return{dialog:!1}},methods:{deleteAccount:function(){var t=this;r.a.delete("/api/v1/admin/ac?ac_id=".concat(this.account.id)).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},Ft=St,Tt=Object(m["a"])(Ft,wt,At,!1,null,"1cb1dcc4",null),Bt=Tt.exports;b()(Tt,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VIcon:F["a"],VSpacer:C["a"]});var It=n["a"].extend({name:"AccountItem",components:{DeleteAccountDialog:Bt,EditAccountDialog:yt,AccountInfoDialog:U},props:{account:Object,userDataFieldsConst:Array,fakeableDataFieldsConst:Array,domains:Array},data:function(){return{}},methods:{emitChange:function(){this.$emit("data-change")}}}),Et=It,Lt=Object(m["a"])(Et,M,N,!1,null,null,null),Ot=Lt.exports;b()(Lt,{VListItem:Ct["a"],VListItemAction:Vt["a"],VListItemContent:kt["a"],VListItemSubtitle:kt["b"],VListItemTitle:kt["c"],VSpacer:C["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}},[t._v(t._s(t.content))])},$t=[],Mt={name:"ServiceAlert",props:{val:Boolean,content:String}},Nt=Mt,Pt=a("0798"),Rt=Object(m["a"])(Nt,jt,$t,!1,null,"4266fe6b",null),qt=Rt.exports;b()(Rt,{VAlert:Pt["a"]});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),n),[a("span",{staticClass:"mr-2"},[t._v("Domains")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" FB authorized domains ")]),a("v-card-text",{staticClass:"mt-5"},[a("NewDomainDialog",{on:{"data-change":t.emitChange}}),a("v-list",{attrs:{"two-line":""}},t._l(t.domains,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.domain)+" ")]),a("v-list-item-subtitle",[t._v("Meta tag: "+t._s(e.fb_meta_tag))])],1),a("v-list-item-action",[a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(a){return t.sendDeleteDomainReq(e.id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)})),1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},zt=[],Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),n),[a("span",{staticClass:"mr-2"},[t._v("Add Domain")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Add new Domain for FB auth ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-card-subtitle",[t._v("Domain settings")]),a("v-text-field",{attrs:{label:"Domain string",placeholder:"example.com"},model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}}),a("v-text-field",{attrs:{label:"Facebook Meta Tag"},model:{value:t.fbMetaTag,callback:function(e){t.fbMetaTag=e},expression:"fbMetaTag"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:t.saveDomain}},[t._v(" Add ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},Ht=[],Kt={name:"NewDomainDialog",data:function(){return{dialog:!1,domain:"",fbMetaTag:""}},methods:{saveDomain:function(){var t=this;r.a.post("/api/v1/admin/domain",{domain:this.domain,fb_meta_tag:this.fbMetaTag}).then((function(e){console.log("res: ",e),t.emitChange(),t.dialog=!1}))},emitChange:function(){this.$emit("data-change")}}},Qt=Kt,Ut=Object(m["a"])(Qt,Gt,Ht,!1,null,"47ff4b14",null),Wt=Ut.exports;b()(Ut,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardSubtitle:h["b"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VSpacer:C["a"],VTextField:V["a"]});var Xt={name:"DomainsDialog",components:{NewDomainDialog:Wt},props:{domains:Array},data:function(){return{dialog:!1}},methods:{sendDeleteDomainReq:function(t){var e=this;r.a.delete("/api/v1/admin/domain?id=".concat(t)).then((function(t){console.log("deleted"),e.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},Yt=Xt,Zt=Object(m["a"])(Yt,Jt,zt,!1,null,"7b579c18",null),te=Zt.exports;b()(Zt,{VBtn:g["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:x["a"],VIcon:F["a"],VList:xt["a"],VListItem:Ct["a"],VListItemAction:Vt["a"],VListItemContent:kt["a"],VListItemSubtitle:kt["b"],VListItemTitle:kt["c"],VSpacer:C["a"]});var ee=n["a"].extend({name:"App",components:{DomainsDialog:te,ServiceAlert:qt,AccountItem:Ot,CreateSystemAccountDialog:$,LoginDialog:B,NewAccountDialog:D},data:function(){return{accounts:[],accSearchStr:"",isLogged:!1,showAlert:!1,alertText:"",userDataFieldsConst:[],fakeableDataFieldsConst:[],domains:[]}},created:function(){var t=this;this.checkIsLogged(),this.reloadData(),r.a.interceptors.response.use((function(t){return t}),(function(e){t.showAlert=!0,t.alertText=e.response.data.msg,console.log("err handled: ",e),t.setTimeoutForAlert()})),r.a.get("/api/v1/admin/bm/user-data-fields").then((function(e){var a;(a=t.userDataFieldsConst).push.apply(a,Object(c["a"])(e.data))})),r.a.get("/api/v1/admin/bm/fakeable-data-fields").then((function(e){var a;(a=t.fakeableDataFieldsConst).push.apply(a,Object(c["a"])(e.data))})),r.a.get("/api/v1/admin/domain").then((function(e){var a;(a=t.domains).push.apply(a,Object(c["a"])(e.data))}))},methods:{setTimeoutForAlert:function(){var t=this;setTimeout((function(){return t.showAlert=!1}),5e3)},reloadData:function(){var t=this;while(this.accounts.length)this.accounts.pop();r.a.get("/api/v1/admin/ac").then((function(e){e.data.forEach((function(e){return t.accounts.push(e)}))}))},checkIsLogged:function(){var t=this;r.a.get("/api/v1/admin/account").then((function(e){t.isLogged=!0})).catch((function(e){t.isLogged=!1}))}},computed:{filteredAccounts:function(){var t=this;return this.accSearchStr?this.accounts.filter((function(e){return e.name.toString().includes(t.accSearchStr)||e.id.toString().includes(t.accSearchStr)})):this.accounts}}}),ae=ee,ne=a("7496"),ie=a("40dc"),oe=a("a523"),ce=a("f6c4"),se=Object(m["a"])(ae,i,o,!1,null,null,null),re=se.exports;b()(se,{VApp:ne["a"],VAppBar:ie["a"],VCard:p["a"],VCardTitle:h["d"],VContainer:oe["a"],VList:xt["a"],VMain:ce["a"],VSpacer:C["a"],VTextField:V["a"]});var le=a("f309");n["a"].use(le["a"]);var de=new le["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:de,render:function(t){return t(re)}}).$mount("#app")}});
//# sourceMappingURL=app.e2807aec.js.map