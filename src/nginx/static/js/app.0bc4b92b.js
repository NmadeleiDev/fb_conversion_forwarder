(function(t){function e(e){for(var n,c,r=e[0],s=e[1],l=e[2],u=0,v=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&v.push(i[c][0]),i[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(v.length)v.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var s=a[r];0!==i[s]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={app:0},o=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("h2",[t._v("FB Conversions Forwarder")])]),a("v-spacer"),a("LoginDialog"),t.isLogged?a("CreateAccDialog"):t._e()],1),a("v-main",[a("v-container",[t.isLogged?a("v-card",[a("v-card-title",[t._v(" Accounts "),a("v-spacer"),a("NewAccountDialog",{on:{"data-change":t.reloadData}})],1),a("v-text-field",{staticClass:"mr-7 ml-7",attrs:{filled:"",label:"Filter accounts"},model:{value:t.bmSearchStr,callback:function(e){t.bmSearchStr=e},expression:"bmSearchStr"}}),a("v-list",{attrs:{rounded:""}},t._l(t.filteredBms,(function(e){return a("BmItem",{key:e.id,attrs:{bm:e},on:{"data-change":t.reloadData}})})),1)],1):a("LoginDialog")],1)],1)],1)},o=[],c=(a("d3b7"),a("159b"),a("4de4"),a("caad"),a("2532"),a("25f0"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"v-size--large mb-3"},[t._v(t._s(t.bm.name))]),a("v-list-item-subtitle",[t._v("Id: "+t._s(t.bm.id))])],1),a("v-spacer"),a("v-list-item-action",{staticClass:"flex-row"},[a("BmInfoDialog",{attrs:{bm:t.bm},on:{"data-change":t.emitChange}}),a("EditAccountDialog",{attrs:{bm:t.bm},on:{"data-change":t.emitChange}}),a("DeleteAccountDialog",{attrs:{bm:t.bm},on:{"data-change":t.emitChange}})],1)],1)}),r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),n),[a("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-information")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Account "+t._s(t.bm.name)+" ")]),a("v-card-text",{staticClass:"mt-5"},[t._v(" Here is forwarder pixel for account '"+t._s(t.bm.name)+"'. Give it to the advertiser to add to the website. ")]),a("v-textarea",{staticClass:"ma-4",attrs:{value:t.pixel,label:"Account pixel"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},l=[],d=a("bc3a"),u=a.n(d),v={name:"BmInfoDialog",props:{bm:Object},data:function(){return{pixel:"",dialog:!1}},created:function(){var t=this;u.a.get("/api/v1/admin/pixel?bm_id=".concat(this.bm.id)).then((function(e){t.pixel=e.data}))}},m=v,p=a("2877"),b=a("6544"),f=a.n(b),g=a("8336"),h=a("b0af"),x=a("99d9"),_=a("169a"),C=a("ce7e"),V=a("132d"),k=a("2fa4"),y=a("a844"),w=Object(p["a"])(m,s,l,!1,null,"018bf37f",null),D=w.exports;f()(w,{VBtn:g["a"],VCard:h["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:_["a"],VDivider:C["a"],VIcon:V["a"],VSpacer:k["a"],VTextarea:y["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"primary"}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-cog-outline")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Edit account '"+t._s(t.bm.name)+"' ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-text-field",{attrs:{label:"Account name"},model:{value:t.bm.name,callback:function(e){t.$set(t.bm,"name",e)},expression:"bm.name"}}),a("v-text-field",{attrs:{label:"Business manager access token"},model:{value:t.bm.access_token,callback:function(e){t.$set(t.bm,"access_token",e)},expression:"bm.access_token"}}),a("v-text-field",{attrs:{label:"Facebook pixel ID"},model:{value:t.bm.pixel_id,callback:function(e){t.$set(t.bm,"pixel_id",e)},expression:"bm.pixel_id"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveAccount}},[t._v(" Save ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},A=[],T={name:"EditAccountDialog",props:{bm:Object},data:function(){return{dialog:!1}},methods:{saveAccount:function(){var t=this;u.a.put("/api/v1/admin/bm",{id:this.bm.id,name:this.bm.name,access_token:this.bm.access_token,pixel_id:this.bm.pixel_id}).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},I=T,O=a("8654"),L=Object(p["a"])(I,S,A,!1,null,"1bc2f5dc",null),j=L.exports;f()(L,{VBtn:g["a"],VCard:h["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:_["a"],VDivider:C["a"],VIcon:V["a"],VSpacer:k["a"],VTextField:O["a"]});var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"error"}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-delete")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Delete account '"+t._s(t.bm.name)+"' ")]),a("v-card-text",{staticClass:"mt-5"},[t._v(" Are you sure that you want to delete account '"+t._s(t.bm.name)+"'? ")]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"error",text:""},on:{click:t.deleteAccount}},[t._v(" Delete account ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},$=[],E={name:"DeleteAccountDialog",props:{bm:Object},data:function(){return{dialog:!1}},methods:{deleteAccount:function(){var t=this;u.a.delete("/api/v1/admin/bm?bm_id=".concat(this.bm.id)).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},F=E,P=Object(p["a"])(F,B,$,!1,null,"53e1f954",null),M=P.exports;f()(P,{VBtn:g["a"],VCard:h["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:_["a"],VDivider:C["a"],VIcon:V["a"],VSpacer:k["a"]});var N=n["a"].extend({name:"BmItem",components:{DeleteAccountDialog:M,EditAccountDialog:j,BmInfoDialog:D},props:{bm:Object},data:function(){return{}},methods:{emitChange:function(){this.$emit("data-change")}}}),q=N,R=a("da13"),J=a("1800"),z=a("5d23"),G=Object(p["a"])(q,c,r,!1,null,null,null),H=G.exports;f()(G,{VListItem:R["a"],VListItemAction:J["a"],VListItemContent:z["a"],VListItemSubtitle:z["b"],VListItemTitle:z["c"],VSpacer:k["a"]});var K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",color:"primary"}},"v-btn",i,!1),n),[t._v(" New account ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Create new account ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-text-field",{attrs:{label:"Account name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{label:"Business manager access token"},model:{value:t.accessToken,callback:function(e){t.accessToken=e},expression:"accessToken"}}),a("v-text-field",{attrs:{label:"Facebook pixel ID"},model:{value:t.pixelId,callback:function(e){t.pixelId=e},expression:"pixelId"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:t.saveAccount}},[t._v(" Save ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},Q=[],U={name:"NewAccountDialog",data:function(){return{name:"",accessToken:"",pixelId:"",dialog:!1}},methods:{saveAccount:function(){var t=this;u.a.post("/api/v1/admin/bm",{name:this.name,access_token:this.accessToken,pixel_id:this.pixelId}).then((function(e){t.dialog=!1,t.emitChange()}))},emitChange:function(){this.$emit("data-change")}}},W=U,X=Object(p["a"])(W,K,Q,!1,null,"94df4b82",null),Y=X.exports;f()(X,{VBtn:g["a"],VCard:h["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:_["a"],VDivider:C["a"],VSpacer:k["a"],VTextField:O["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),n),[a("span",{staticClass:"mr-2"},[t._v("Login")]),a("v-icon",[t._v("mdi-login")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Login ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:t.sendLoginReq}},[t._v(" Login ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},tt=[],et={name:"LoginDialog",data:function(){return{email:"",password:"",dialog:!1}},methods:{sendLoginReq:function(){var t=this;u.a.post("/api/v1/login/",{email:this.email,password:this.password}).then((function(e){t.dialog=!1,document.location.reload()})).catch((function(t){alert("Password incorrect")}))}}},at=et,nt=Object(p["a"])(at,Z,tt,!1,null,"5585ed5e",null),it=nt.exports;f()(nt,{VBtn:g["a"],VCard:h["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:_["a"],VDivider:C["a"],VIcon:V["a"],VSpacer:k["a"],VTextField:O["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),n),[a("span",{staticClass:"mr-2"},[t._v("Create account")]),a("v-icon",[t._v("mdi-account-plus")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Create New Account ")]),a("v-card-text",{staticClass:"mt-5"},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:t.sendCreateReq}},[t._v(" Create ")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},ct=[],rt={name:"CreateAccDialog",data:function(){return{email:"",password:"",dialog:!1}},methods:{sendCreateReq:function(){var t=this;u.a.post("/api/v1/admin/account",{email:this.email,password:this.password}).then((function(e){t.dialog=!1})).catch((function(t){return console.log(t)}))}}},st=rt,lt=Object(p["a"])(st,ot,ct,!1,null,"2f94b6c1",null),dt=lt.exports;f()(lt,{VBtn:g["a"],VCard:h["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:_["a"],VDivider:C["a"],VIcon:V["a"],VSpacer:k["a"],VTextField:O["a"]});var ut=n["a"].extend({name:"App",components:{CreateAccDialog:dt,LoginDialog:it,NewAccountDialog:Y,BmItem:H},data:function(){return{bms:[],bmSearchStr:"",isLogged:!1}},created:function(){this.checkIsLogged(),this.reloadData()},methods:{reloadData:function(){var t=this;while(this.bms.length)this.bms.pop();u.a.get("/api/v1/admin/bm").then((function(e){e.data.forEach((function(e){return t.bms.push(e)}))}))},checkIsLogged:function(){var t=this;u.a.get("/api/v1/admin/account").then((function(e){t.isLogged=!0})).catch((function(e){t.isLogged=!1}))}},computed:{filteredBms:function(){var t=this;return this.bmSearchStr?this.bms.filter((function(e){return e.name.toString().includes(t.bmSearchStr)||e.id.toString().includes(t.bmSearchStr)})):this.bms}}}),vt=ut,mt=a("7496"),pt=a("40dc"),bt=a("a523"),ft=a("8860"),gt=a("f6c4"),ht=Object(p["a"])(vt,i,o,!1,null,null,null),xt=ht.exports;f()(ht,{VApp:mt["a"],VAppBar:pt["a"],VCard:h["a"],VCardTitle:x["c"],VContainer:bt["a"],VList:ft["a"],VMain:gt["a"],VSpacer:k["a"],VTextField:O["a"]});var _t=a("f309");n["a"].use(_t["a"]);var Ct=new _t["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:Ct,render:function(t){return t(xt)}}).$mount("#app")}});
//# sourceMappingURL=app.0bc4b92b.js.map